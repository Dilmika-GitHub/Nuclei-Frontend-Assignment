<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Room Price Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Inter"
      rel="stylesheet"
    />
    <script src="main.js"></script>
  </head>
  <body>
    <section class="calculator">
      <div class="input">
        <form id="inputForm">
          <button type="reset" class="btn" onClick="fun()" style="float: right">
            Reset
          </button>
          <h1>Room Price Calculator</h1>

          <h3>Room Type</h3>
          <select id="rtype" name="rtype">
            <option value="srt">Select Room Type</option>
            <option value="Dcity">Standard Double City View</option>
            <option value="Tcity">Superior Twin City View</option>
            <option value="Tsea">Superior Twin Sea View</option>
          </select>
          <h3>Number of Adults</h3>
          <input
            type="text"
            id="inputId"
            class="inputClass"
            placeholder="No of Adults"
          />
          <h3>Number of Children</h3>
          <input type="text" id="Age" class="Age" placeholder="Age" />
          <input
            type="text"
            id="numChildren"
            class="numChildren"
            placeholder="Number of Children"
          />
          <br />
          <button type="button" onclick="child()" class="btn">Add child</button>
          <table id="tableChild">
            <tr>
              <th>Age</th>
              <th>No of Children</th>
            </tr>
          </table>

          <button type="button" onclick="onChange()" class="btn">
            Calculate
          </button>
        </form>
      </div>
      <div class="output">
        <h1>Cost</h1>
        <table>
          <tr>
            <th>Items</th>
            <th>Amount</th>
          </tr>
          <tr>
            <td>Adult Cost</td>
            <td id="adultCost"></td>
          </tr>
          <tr>
            <td>Children Cost</td>
            <td id="childCost"></td>
          </tr>
          <tr>
            <td>Total Cost</td>
            <td id="totalCost"></td>
          </tr>
        </table>
      </div>
    </section>
    <script type="text/javascript">
      function fun() {
        document.getElementById("myForm").reset();
        document.getElementById("adultCost").innerHTML = 0;
        document.getElementById("childCost").innerHTML = 0;
        document.getElementById("totalCost").innerHTML = 0;
      }
      var arr = [];
      function child() {
        var ag = document.getElementsByClassName("Age")[0].value;
        var ch = document.getElementsByClassName("numChildren")[0].value;
        arr.push([ag, ch]);

        document.getElementById("demo").innerHTML = arr[0][0];
        document.getElementById("demo1").innerHTML = arr[0][1];
      }
      function onChange() {
        var e = document.getElementById("rtype");

        var adult = document.getElementsByClassName("inputClass")[0].value;
        var value = e.value;

        if (value == "Dcity") {
          var aprice = 30000;
          var cprice6 = 20000;
          var cprice0 = 5000;
          var ctotal0 = 0;
          var ctotal6 = 0;
          var length1 = arr.length;
          for (var i = 0; i < length1; i++) {
            if (arr[i][0] <= 5 && arr[i][0] >= 0) {
              ctotal0 = ctotal0 + cprice0 * arr[i][1];
            } else if (arr[i][0] <= 12 && arr[i][0] >= 6) {
              ctotal6 = ctotal6 + cprice6 * arr[i][1];
            }
          }
        } else if (value == "Tcity") {
          var aprice = 40000;
          var cprice6 = 20000;
          var cprice0 = 5000;
          var ctotal0 = 0;
          var ctotal6 = 0;
          var length1 = arr.length;
          for (var i = 0; i < length1; i++) {
            if (arr[i][0] <= 5 && arr[i][0] >= 0) {
              ctotal0 = ctotal0 + cprice0 * arr[i][1];
            } else if (arr[i][0] <= 12 && arr[i][0] >= 6) {
              ctotal6 = ctotal6 + cprice6 * arr[i][1];
            }
          }
        }
        if (value == "Tsea") {
          var aprice = 50000;
          var cprice6 = 30000;
          var cprice0 = 10000;
          var ctotal0 = 0;
          var ctotal6 = 0;
          var length1 = arr.length;
          for (var i = 0; i < length1; i++) {
            if (arr[i][0] <= 5 && arr[i][0] >= 0) {
              ctotal0 = ctotal0 + cprice0 * arr[i][1];
            } else if (arr[i][0] <= 12 && arr[i][0] >= 6) {
              ctotal6 = ctotal6 + cprice6 * arr[i][1];
            }
          }
        }
        var total = adult * aprice + ctotal6 + ctotal0;

        //alert(total);
        document.getElementById("adultCost").innerHTML = adult * aprice;
        document.getElementById("childCost").innerHTML = ctotal6 + ctotal0;
        document.getElementById("totalCost").innerHTML = total;
      }
    </script>
  </body>
</html>
